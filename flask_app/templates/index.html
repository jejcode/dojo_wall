<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Wall</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container-fluid d-flex justify-content-between">
                <span class="navbar-brand mb-0 h1">Coding Dojo Wall</span>
            </div>
        </nav>
        <div class="row justify-content-around align-items-start m-4">
            <div class="col-4 p-4">
                <h2>Register</h2>
                {% with registeration_errors = get_flashed_messages(category_filter=['registration']) %}
                    {% if registeration_errors %}
                        <div class="text-danger">
                            {% for message in registeration_errors %}
                                <p>{{ message }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                {% endwith %}
                {% set fname_value = session['form_in_progress']['fname'] if 'form_in_progress' in session else ''%}
                {% set lname_value = session['form_in_progress']['lname'] if 'form_in_progress' in session else ''%}
                {% set email_value = session['form_in_progress']['email'] if 'form_in_progress' in session else ''%}
                {% set password_value = session['form_in_progress']['password'] if 'form_in_progress' in session else ''%}
                {% set confirm_value = session['form_in_progress']['confirm'] if 'form_in_progress' in session else ''%}
                <form action="/register" method="post">
                    <div class="mb-3">
                        <label class="form-label" for="fname">First Name:</label>
                        <input class="form-control" type="text" name="fname" id="fname" value="{{ fname_value }}">
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="lname">Last Name:</label>
                        <input class="form-control" type="text" name="lname" id="lname" value="{{ lname_value }}">
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="email">Email:</label>
                        <input class="form-control" type="text" name="email" id="email" value="{{ email_value }}">
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="password">Password:</label>
                        <input class="form-control" type="password" name="password" id="password" value="{{ password_value }}">
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="confirm">Confirm Password:</label>
                        <input class="form-control" type="password" name="confirm" id="confirm" value="{{ confirm_value }}">
                    </div>
                    <input class="btn btn-primary" type="submit" value="Register">
                </form>
            </div>
            <div class="col-4 text-bg-primary p-4 rounded">
                <h2>Login</h2>
                {% with login_errors = get_flashed_messages(category_filter=['login']) %}
                    {% if login_errors %}
                        <div >
                            {% for message in login_errors %}
                                <p class="text-bg-warning p-1 m-1">{{ message }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                {% endwith %}
                <form action="/login" method="post">
                    <div class="mb-3">
                        <label class="form-label" for="email">Email:</label>
                        <input class="form-control" type="text" name="email" id="email">
                    </div>
                    <div class="mb-3">
                        <label class="form-label" for="password">Password:</label>
                        <input class="form-control" type="password" name="password" id="password">
                    </div>
                    <input class="btn btn-light" type="submit" value="Login">
                </form>
            </div>
        </div>
    </div>
</body>
</html>